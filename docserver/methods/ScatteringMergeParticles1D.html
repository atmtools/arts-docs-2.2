<!DOCTYPE html>
<html lang="en">
<head>
<title>ScatteringMergeParticles1D - ARTS built-in documentation server</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="../styles.css">
</head>
<body>
<div id="navbar"><div class="breadcrumbs"><a href="../index.html">Home</a>&nbsp;>>&nbsp;<a href="../methods.html">Methods</a>&nbsp;>>&nbsp;ScatteringMergeParticles1D</div>
<div class="goto">Go to: <a href="../groups/index.html">Groups</a>&nbsp;-&nbsp;<a href="../variables/index.html">Variables</a>&nbsp;-&nbsp;<a href="index.html">Methods</a>&nbsp;-&nbsp;<a href="../agendas/index.html">Agendas</a></div></div>
<div class="content">
<h1>ARTS built-in documentation server</h1>
<h2>Workspace Method ScatteringMergeParticles1D</h2>
<h3>Description</h3>
<pre>
This method pre-calculates a weighted sum of all particles per pressure level.
before the actual DOIT calculation is taking place in <a href="ScatteringDoit.html">ScatteringDoit</a>.
It should be called directly after <a href="pnd_fieldSetup.html">pnd_fieldSetup</a> (but after
<a href="cloudbox_checkedCalc.html">cloudbox_checkedCalc</a>). It's purpose is speeding up DOIT calculations.

<a href="../variables/pnd_field.html">pnd_field</a> is resized to [np, np, 1, 1]. Where np is the number of pressure levels
inside the cloudbox. The diagonal elements of the new <a href="../variables/pnd_field.html">pnd_field</a> are set to 1, all
others to 0. Accordingly, <a href="../variables/scat_data_array.html">scat_data_array</a> is resized to np. Each particle
is the weighted sum of all particles at this presssure level.
This is an experimental method currently only working for very specific cases.
All particles must be of the same type and all particles must share the same
f_grid and za_grid. And pha_mat_data, ext_mat_data and abs_vec_data must be all
the same size.
This method can only be used with a 1D atmosphere.

</pre>

<p><b>Authors: </b>Oliver Lemke
<h3>Synopsis</h3>
<p><table><tr><td>ScatteringMergeParticles1D(&nbsp;</td><td><a href="../variables/pnd_field.html">pnd_field</a>, <a href="../variables/scat_data_array.html">scat_data_array</a>, <a href="../variables/atmosphere_dim.html">atmosphere_dim</a>, <a href="../variables/cloudbox_on.html">cloudbox_on</a>, <a href="../variables/cloudbox_limits.html">cloudbox_limits</a>, <a href="../variables/t_field.html">t_field</a>, <a href="../variables/z_field.html">z_field</a>, <a href="../variables/z_surface.html">z_surface</a>, <a href="../variables/cloudbox_checked.html">cloudbox_checked</a> )</td></tr></table>
<h3>Variables</h3>
<table>
<tr><td>OUT+IN</td><td class="right"><a href="../variables/pnd_field.html">pnd_field</a></td><td>(<a href="../groups/Tensor4.html">Tensor4</a>)</td><td>Particle number density field.</td></tr>
<tr><td>OUT+IN</td><td class="right"><a href="../variables/scat_data_array.html">scat_data_array</a></td><td>(<a href="../groups/ArrayOfSingleScatteringData.html">ArrayOfSingleScatteringData</a>)</td><td>Raw data of single scattering data.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/atmosphere_dim.html">atmosphere_dim</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>The atmospheric dimensionality (1-3).</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/cloudbox_on.html">cloudbox_on</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>Flag to activate the cloud box.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/cloudbox_limits.html">cloudbox_limits</a></td><td>(<a href="../groups/ArrayOfIndex.html">ArrayOfIndex</a>)</td><td>The limits of the cloud box.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/t_field.html">t_field</a></td><td>(<a href="../groups/Tensor3.html">Tensor3</a>)</td><td>The field of atmospheric temperatures.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/z_field.html">z_field</a></td><td>(<a href="../groups/Tensor3.html">Tensor3</a>)</td><td>The field of geometrical altitudes.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/z_surface.html">z_surface</a></td><td>(<a href="../groups/Matrix.html">Matrix</a>)</td><td>The surface altitude.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/cloudbox_checked.html">cloudbox_checked</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>OK-flag for variables associated with the cloudbox.</td></tr>
</table>
</div>
<div class="footer">Page generated by arts-2.2.66 - <a href="../doccheck.html">Check docs</a></div>

</body>
</html>